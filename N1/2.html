<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT N1 ë¬¸ë²• í€´ì¦ˆ (ê²©ì‹ì²´/ë¬¸ì–´ì²´)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Pretendard:wght@500;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .back-link {
            display: inline-block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #d97706; /* ê³¨ë“œ ìƒ‰ìƒ */
            color: #1c1917; /* ë‹¤í¬ ë°°ê²½ìƒ‰ */
            text-decoration: none;
            border-radius: 8px;
            font-family: 'Pretendard', sans-serif;
            font-weight: bold;
            transition: 0.3s;
            text-align: center;
        }
        .back-link:hover { background-color: #b45309; color: white; transform: translateY(-2px); }
        .top-bar { text-align: center; background-color: #000; padding-top: 10px; }

        /* --- ê¸°ì¡´ ìˆ˜í›ˆë‹˜ CSS ì½”ë“œ --- */
        body { background-color: #000; margin: 0; padding: 0; } /* ì „ì²´ ë‹¤í¬ ëª¨ë“œ */

        .n1-grammar-container {
            font-family: 'Pretendard', 'Noto Sans JP', sans-serif;
            max-width: 800px; margin: 20px auto 40px auto; background: #1c1917; border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); border: 1px solid #44403c; overflow: hidden;
            color: #f5f5f4; min-height: 600px; display: flex; flex-direction: column;
            box-sizing: border-box;
        }
        .n1-grammar-container * { box-sizing: border-box; }

        .quiz-header { background: linear-gradient(90deg, #b45309, #d97706); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; color: white; font-weight: bold; }
        .quiz-body { padding: 40px 30px; flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        
        .question-card { background: #292524; border: 1px solid #57534e; padding: 30px; border-radius: 12px; width: 100%; margin-bottom: 30px; }
        .casual-text { font-size: 1.2rem; color: #a8a29e; margin-bottom: 10px; font-weight: normal; }
        .formal-text { font-size: 1.7rem; color: #fff; font-weight: bold; line-height: 1.5; }
        .q-blank { color: #fcd34d; border-bottom: 3px solid #fcd34d; padding: 0 10px; }
        
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; max-width: 600px; }
        .option-btn { background: #44403c; border: 2px solid #57534e; color: #e7e5e4; padding: 20px; border-radius: 12px; font-size: 1.4rem; font-weight: bold; cursor: pointer; transition: all 0.2s; }
        .option-btn:hover { background: #57534e; border-color: #d97706; color: #fcd34d; transform: translateY(-2px); }
        
        .feedback-box { margin-top: 25px; padding: 20px; border-radius: 10px; text-align: left; width: 100%; display: none; background: #0f172a; border-left: 5px solid #3b82f6; animation: slideDown 0.3s; }
        .feedback-box.correct { border-left-color: #10b981; background: #064e3b; }
        .feedback-box.wrong { border-left-color: #ef4444; background: #450a0a; }
        .fb-title { font-size: 1.2rem; font-weight: 900; margin-bottom: 10px; display: block; }
        .fb-desc { font-size: 1.15rem; line-height: 1.6; color: #e5e7eb; }
        
        .btn-next { margin-top: 20px; background: #d97706; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 1.2rem; font-weight: bold; cursor: pointer; display: none; }
        .btn-next:hover { background: #b45309; }

        .result-view { display: none; text-align: center; padding: 40px; color: white; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
        
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr; }
            .formal-text { font-size: 1.4rem; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <a href="../index.html" class="back-link">ğŸ”™ ë©”ì¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <div class="n1-grammar-container">
        <div class="quiz-header">
            <div class="quiz-title">ğŸ“œ N1 Formal Grammar Training</div>
            <div class="quiz-progress" id="quiz-progress">1 / 10</div>
        </div>
        <div class="quiz-body" id="quiz-view">
            <div class="question-card">
                <div class="casual-text" id="casual-context">ì¼ìƒ: "ë‚˜ ê°™ì€ ì‚¬ëŒì´ í•´ë‚¼ ìˆ˜ ìˆì„ê¹Œ..."</div>
                <div class="formal-text" id="formal-context">ê²©ì‹: ç§<span class="q-blank">( ? )</span>ã«æˆã—é‚ã’ã‚‰ã‚Œã‚‹ã ã‚ã†ã‹ã€‚</div>
            </div>
            <div class="options-grid" id="options-area"></div>
            <div class="feedback-box" id="feedback-box">
                <span class="fb-title" id="fb-title"></span>
                <div class="fb-desc" id="fb-desc"></div>
            </div>
            <button class="btn-next" id="btn-next">ë‹¤ìŒ ë¬¸ì œ â–¶</button>
        </div>
        <div class="result-view" id="result-view">
            <div class="score-big" id="final-score" style="font-size: 4rem; font-weight: 900; color: #fcd34d; margin-bottom: 20px;">0ì </div>
            <p id="result-comment" style="margin-bottom:30px; font-size:1.2rem;"></p>
            <button onclick="location.reload()" style="background:#44403c; color:white; border:1px solid #d97706; padding:10px 20px; border-radius:8px; cursor:pointer; font-weight:bold; font-family: 'Pretendard', sans-serif;">â†º ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const quizData = [
            { 
                casual: "ë‚˜ ê°™ì€ ì‚¬ëŒì´ í•´ë‚¼ ìˆ˜ ìˆì„ê¹Œ...", 
                formal: "ç§<span class='q-blank'>( ? )</span>ã«æˆã—é‚ã’ã‚‰ã‚Œã‚‹ã ã‚ã†ã‹ã€‚", 
                options: ["ã”ã¨ã", "ãªã‚“ã‹"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ã”ã¨ã (å¦‚ã)</strong><br>'~ë”°ìœ„, ~ê°™ì€'ì´ë¼ëŠ” ëœ»ì˜ ë¹„í•˜ í˜¹ì€ ê²¸ì–‘ í‘œí˜„ì…ë‹ˆë‹¤. N1 ê²©ì‹ì²´ì—ì„œëŠ” 'ãªã‚“ã‹' ëŒ€ì‹  'ã”ã¨ã'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤."
            },
            { 
                casual: "ì–´ì©” ìˆ˜ ì—†ì´ ë³€ê²½í•˜ê²Œ ë˜ì—ˆë‹¤.", 
                formal: "å¤‰æ›´ã‚’<span class='q-blank'>( ? )</span>ã€‚", 
                options: ["ä½™å„€ãªãã•ã‚ŒãŸ", "ã—ãªã‘ã‚Œã°ãªã‚‰ãªã‹ã£ãŸ"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ä½™å„€ãªãã•ã‚ŒãŸ</strong><br>'ä½™å„€(ã‚ˆã)ãªãã•ã‚Œã‚‹'ëŠ” 'ì–´ì©” ìˆ˜ ì—†ì´ ~í•˜ê²Œ ë˜ë‹¤'ë¼ëŠ” ëœ»ì˜ ë§¤ìš° ë”±ë”±í•œ ë¬¸ì–´ì²´ í‘œí˜„ì…ë‹ˆë‹¤." 
            },
            { 
                casual: "ì‚¬ì¥ì´ ëª…ë ¹í•œ ê±°ë¼ì„œ ê±°ì ˆí•  ìˆ˜ ì—†ë‹¤.", 
                formal: "ç¤¾é•·ã®å‘½ä»¤<span class='q-blank'>( ? )</span>ã€æ–­ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚", 
                options: ["ã¨ã‚ã£ã¦", "ã ã‘ã‚ã£ã¦"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ã¨ã‚ã£ã¦</strong><br>'~ë¼ì„œ, ~ì´ê¸° ë•Œë¬¸ì—'ë¼ëŠ” ëœ»ìœ¼ë¡œ, íŠ¹ë³„í•œ ìƒí™©ì´ë‚˜ ì´ìœ ë¥¼ ì œì‹œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê²©ì‹ í‘œí˜„ì…ë‹ˆë‹¤." 
            },
            { 
                casual: "ì•„ë¬´ë¦¬ ì‚¬ì¥ì´ë¼ê³  í•´ë„ ìš©ì„œí•  ìˆ˜ ì—†ë‹¤.", 
                formal: "ç¤¾é•·<span class='q-blank'>( ? )</span>ã€è¨±ã•ã‚Œã‚‹ã“ã¨ã§ã¯ãªã„ã€‚", 
                options: ["ã¨ã„ãˆã©ã‚‚", "ã¨ã„ã£ã¦ã‚‚"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ã¨ã„ãˆã©ã‚‚</strong><br>'~ë¼ê³  í•´ë„'ì˜ ë¬¸ì–´ì²´ í‘œí˜„ì…ë‹ˆë‹¤. 'ë¹„ë¡ ~ì¼ì§€ë¼ë„'ë¼ëŠ” ì–‘ë³´ì˜ ëœ»ì„ ê°•í•˜ê²Œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤." 
            },
            { 
                casual: "ì—¬ê¸° ë“¤ì–´ì˜¤ì§€ ë§ˆì‹œì˜¤.", 
                formal: "ç«‹ã¡å…¥ã‚‹<span class='q-blank'>( ? )</span>ã€‚", 
                options: ["ã¹ã‹ã‚‰ãš", "ã“ã¨ãªã‹ã‚Œ"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ã¹ã‹ã‚‰ãš</strong><br>'~í•´ì„œëŠ” ì•ˆ ëœë‹¤'ëŠ” ê°•í•œ ê¸ˆì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì˜ˆìŠ¤ëŸ¬ìš´ ë¬¸ì–´ì²´ì…ë‹ˆë‹¤. ê²Œì‹œíŒì´ë‚˜ ê²½ê³ ë¬¸ì—ì„œ ì£¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤." 
            },
            { 
                casual: "ë„ì°©í•˜ìë§ˆì íšŒì˜ê°€ ì‹œì‘ëë‹¤.", 
                formal: "åˆ°ç€ã™ã‚‹<span class='q-blank'>( ? )</span>ã€ä¼šè­°ãŒå§‹ã¾ã£ãŸã€‚", 
                options: ["ãŒæ—©ã„ã‹", "ã¨ã™ãã«"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ãŒæ—©ã„ã‹</strong><br>'~í•˜ìë§ˆì'ë¼ëŠ” ëœ»ìœ¼ë¡œ, ì• ë™ì‘ê³¼ ê±°ì˜ ë™ì‹œì— ë’· ë™ì‘ì´ ì¼ì–´ë‚¨ì„ ë‚˜íƒ€ë‚´ëŠ” ê¸´ë°•í•œ ë¬¸ì–´ì²´ í‘œí˜„ì…ë‹ˆë‹¤." 
            },
            { 
                casual: "ë¶„ë…¸ë¥¼ ì°¸ì„ ìˆ˜ê°€ ì—†ë‹¤.", 
                formal: "æ€’ã‚Šã‚’<span class='q-blank'>( ? )</span>ã€‚", 
                options: ["ç¦ã˜å¾—ãªã„", "æˆ‘æ…¢ã§ããªã„"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ç¦ã˜å¾—ãªã„</strong><br>'~ì„ ê¸ˆí•  ìˆ˜ ì—†ë‹¤(ì°¸ì„ ìˆ˜ ì—†ë‹¤)'ëŠ” ëœ»ìœ¼ë¡œ, ê°ì •ì´ ë¶ë°›ì³ ì˜¤ë¦„ì„ ë‚˜íƒ€ë‚´ëŠ” ê²©ì‹ í‘œí˜„ì…ë‹ˆë‹¤." 
            },
            { 
                casual: "íƒœì–´ë‚  ë•Œë¶€í„° ì¬ëŠ¥ì„ ê°€ì§€ê³  ìˆì—ˆë‹¤.", 
                formal: "ç”Ÿã¾ã‚Œ<span class='q-blank'>( ? )</span>ã«ã—ã¦æ‰èƒ½ã‚’æŒã£ã¦ã„ãŸã€‚", 
                options: ["ãªãŒã‚‰", "ã¤ã¤"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ãªãŒã‚‰</strong><br>'ç”Ÿã¾ã‚ŒãªãŒã‚‰ã«ã—ã¦(íƒœì–´ë‚˜ë©´ì„œë¶€í„°, ì„ ì²œì ìœ¼ë¡œ)'ëŠ” ê´€ìš©ì ìœ¼ë¡œ ì“°ì´ëŠ” N1 ë¬¸í˜•ì…ë‹ˆë‹¤. ìƒíƒœê°€ ìœ ì§€ë¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤." 
            },
            { 
                casual: "ë‚˜ë¼ë¥¼ ì§€í‚¤ê¸° ìœ„í•´ ì‹¸ì› ë‹¤.", 
                formal: "å›½ã‚’<span class='q-blank'>( ? )</span>æˆ¦ã£ãŸã€‚", 
                options: ["å®ˆã‚‰ã‚“ãŒãŸã‚", "å®ˆã‚‹ã¤ã‚‚ã‚Šã§"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>å®ˆã‚‰ã‚“ãŒãŸã‚</strong><br>'V(ë¶€ì •í˜•)+ã‚“ãŒãŸã‚'ëŠ” '~í•˜ê¸° ìœ„í•´(ê°•í•œ ëª©ì )'ë¼ëŠ” ëœ»ì˜ ê³ í’ìŠ¤ëŸ¬ìš´ í‘œí˜„ì…ë‹ˆë‹¤." 
            },
            { 
                casual: "ê²½í—˜ì´ ì—†ì–´ì„œ ì‹¤íŒ¨í–ˆë‹¤.", 
                formal: "çµŒé¨“ä¸è¶³<span class='q-blank'>( ? )</span>ã€å¤±æ•—ã—ãŸã€‚", 
                options: ["ã‚†ãˆã«", "ã›ã„ã§"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ã‚†ãˆã«</strong><br>'~ë•Œë¬¸ì—, ~ì´ë¯€ë¡œ'ë¼ëŠ” ëœ»ì˜ ë¬¸ì–´ì²´ì…ë‹ˆë‹¤. ì´ìœ ë‚˜ ì›ì¸ì„ ê²©ì‹ ìˆê²Œ ì„¤ëª…í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤." 
            }
        ];

        let currentIdx = 0; let score = 0;
        const els = { 
            progress: document.getElementById('quiz-progress'), 
            casual: document.getElementById('casual-context'), 
            formal: document.getElementById('formal-context'), 
            optionsArea: document.getElementById('options-area'), 
            feedbackBox: document.getElementById('feedback-box'), 
            fbTitle: document.getElementById('fb-title'), 
            fbDesc: document.getElementById('fb-desc'), 
            btnNext: document.getElementById('btn-next'), 
            quizView: document.getElementById('quiz-view'), 
            resultView: document.getElementById('result-view'), 
            finalScore: document.getElementById('final-score'), 
            resultComment: document.getElementById('result-comment') 
        };

        function loadQuestion() {
            const data = quizData[currentIdx];
            els.progress.innerText = `${currentIdx + 1} / ${quizData.length}`;
            els.casual.innerText = `ì¼ìƒ: "${data.casual}"`;
            els.formal.innerHTML = `ê²©ì‹: ${data.formal}`;
            els.optionsArea.innerHTML = '';
            els.feedbackBox.style.display = 'none';
            els.btnNext.style.display = 'none';
            
            data.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn'; 
                btn.innerText = opt;
                btn.onclick = () => {
                    const isCor = (idx === data.answer);
                    if(isCor) score++;
                    els.feedbackBox.style.display = 'block';
                    els.feedbackBox.className = `feedback-box ${isCor ? 'correct' : 'wrong'}`;
                    els.fbTitle.innerText = isCor ? "â­• Correct" : "âŒ Incorrect";
                    els.fbDesc.innerHTML = data.desc;
                    els.btnNext.style.display = 'inline-block';
                    els.optionsArea.style.pointerEvents = 'none';

                    // ì˜¤ë‹µì¼ ê²½ìš° ì •ë‹µ ë²„íŠ¼ ê°•ì¡°
                    if (!isCor) {
                        btn.style.backgroundColor = '#450a0a';
                        btn.style.borderColor = '#ef4444';
                        els.optionsArea.children[data.answer].style.backgroundColor = '#064e3b';
                        els.optionsArea.children[data.answer].style.borderColor = '#10b981';
                    } else {
                        btn.style.backgroundColor = '#064e3b';
                        btn.style.borderColor = '#10b981';
                    }
                };
                els.optionsArea.appendChild(btn);
            });
            els.optionsArea.style.pointerEvents = 'auto';
        }

        els.btnNext.onclick = () => {
            currentIdx++;
            if (currentIdx < quizData.length) loadQuestion();
            else {
                els.quizView.style.display = 'none';
                els.resultView.style.display = 'flex';
                els.finalScore.innerText = `${(score/quizData.length)*100}ì `;
                els.resultComment.innerText = score >= 8 ? "ê²©ì‹ ìˆëŠ” ì¼ë³¸ì–´ë¥¼ ì™„ë²½í•˜ê²Œ êµ¬ì‚¬í•˜ì‹œë„¤ìš”!" : "ë¬¸ì–´ì²´ í‘œí˜„ ì•”ê¸°ê°€ ì¡°ê¸ˆ ë” í•„ìš”í•©ë‹ˆë‹¤.";
            }
        };
        
        loadQuestion();
    });
    </script>
</body>
</html>
