<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT N2 ì‹¤ì „ ëª¨ì˜ê³ ì‚¬</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Pretendard:wght@500;800&display=swap" rel="stylesheet">

    <style>
        /* --- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .back-link {
            display: inline-block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #991b1b; 
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-family: 'Pretendard', sans-serif;
            font-weight: bold;
            transition: 0.3s;
            text-align: center;
        }
        .back-link:hover { background-color: #ef4444; transform: translateY(-2px); }
        .top-bar { text-align: center; background-color: #fef2f2; padding-top: 10px; }

        /* --- ê¸°ì¡´ ìˆ˜í›ˆë‹˜ CSS ì½”ë“œ --- */
        body { background-color: #fef2f2; margin: 0; padding: 0; }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .mock-test-container {
            font-family: 'Pretendard', 'Noto Sans JP', sans-serif;
            max-width: 800px; margin: 0 auto 40px auto;
            background: #fff; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb; overflow: hidden;
            height: 750px; display: flex; flex-direction: column;
            position: relative; 
        }
        
        /* í­ì£½ ìº”ë²„ìŠ¤ */
        #confetti-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 999; display: none;
        }

        /* í™”ë©´ ê³µí†µ */
        .screen { 
            display: none; padding: 30px; flex-grow: 1; flex-direction: column; 
            align-items: center; overflow-y: auto; height: 100%;
            scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent;
        }
        .screen.active { display: flex; }
        .screen::-webkit-scrollbar { width: 6px; }
        .screen::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }

        /* 1. ì‹œì‘ í™”ë©´ */
        #start-screen { text-align: center; background: #fef2f2; justify-content: center; }
        .start-title { font-size: 2.6rem; color: #991b1b; margin-bottom: 15px; font-weight: 900; }
        .start-desc { font-size: 1.4rem; color: #4b5563; margin-bottom: 40px; line-height: 1.6; }
        
        .course-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; width: 100%; max-width: 600px; }
        .course-btn {
            background: white; border: 2px solid #fecaca; padding: 20px 10px; border-radius: 15px;
            cursor: pointer; transition: all 0.2s; display: flex; flex-direction: column; align-items: center; gap: 8px;
            box-shadow: 0 4px 0 #fecaca;
        }
        .course-btn:hover { transform: translateY(-3px); border-color: #ef4444; color: #ef4444; }
        .course-btn:active { transform: translateY(2px); box-shadow: none; }
        .c-icon { font-size: 2rem; }
        .c-title { font-size: 1.4rem; font-weight: 800; color: #1f2937; }
        .c-time { font-size: 1rem; color: #6b7280; font-weight: 600; }

        /* 2. ë¬¸ì œ í™”ë©´ */
        #quiz-screen { align-items: flex-start; justify-content: flex-start; padding-top: 20px; }
        
        /* ì§„í–‰ë°” ìŠ¤íƒ€ì¼ */
        .progress-container {
            width: 100%; height: 8px; background-color: #e5e7eb; border-radius: 4px;
            margin-bottom: 20px; overflow: hidden; flex-shrink: 0;
        }
        .progress-bar {
            height: 100%; background: linear-gradient(90deg, #ef4444, #f87171);
            width: 0%; transition: width 0.3s ease; border-radius: 4px;
        }

        .quiz-header { width: 100%; display: flex; justify-content: space-between; margin-bottom: 20px; border-bottom: 2px solid #f3f4f6; padding-bottom: 15px; flex-shrink: 0; }
        .q-badge { background: #ef4444; color: white; padding: 6px 14px; border-radius: 8px; font-size: 1.1rem; font-weight: bold; }
        .timer { font-size: 1.4rem; font-weight: 800; color: #ef4444; background: #fee2e2; padding: 5px 15px; border-radius: 8px; }
        
        .question-box { width: 100%; margin-bottom: 25px; flex-shrink: 0; }
        .q-text { font-size: 1.7rem; font-weight: bold; color: #1f2937; margin-bottom: 20px; line-height: 1.5; }
        .q-context { background: #f8fafc; padding: 20px; border-left: 5px solid #94a3b8; color: #334155; margin-bottom: 25px; font-size: 1.3rem; line-height: 1.7; border-radius: 0 8px 8px 0; }

        .options-grid { display: grid; grid-template-columns: 1fr; gap: 15px; width: 100%; padding-bottom: 30px; }
        .option-btn {
            background: white; border: 2px solid #e5e7eb; padding: 18px; border-radius: 14px;
            text-align: left; font-size: 1.35rem; color: #4b5563; cursor: pointer; transition: all 0.2s; font-weight: 600; line-height: 1.4;
        }
        .option-btn:hover { border-color: #ef4444; color: #ef4444; background: #fef2f2; }
        
        /* 3. ê²°ê³¼ í™”ë©´ */
        #result-screen { justify-content: flex-start; }
        .score-area { 
            text-align: center; margin-bottom: 30px; padding-bottom: 20px; 
            border-bottom: 2px dashed #e5e7eb; width: 100%; flex-shrink: 0; position: relative;
        }
        
        /* í•©ê²© ë„ì¥ ìŠ¤íƒ€ì¼ */
        .stamp {
            position: absolute; top: 10px; right: 20px;
            font-size: 4rem; font-weight: 900; border: 6px solid; padding: 10px 20px;
            border-radius: 10px; opacity: 0; transform: scale(3) rotate(-15deg);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); pointer-events: none;
        }
        .stamp.pass { color: #dc2626; border-color: #dc2626; opacity: 0.2; } 
        .stamp.fail { color: #6b7280; border-color: #6b7280; opacity: 0.2; } 
        .stamp.show { opacity: 0.8; transform: scale(1) rotate(-15deg); }

        .score-title { font-size: 1.6rem; color: #374151; font-weight: bold; }
        .final-score { font-size: 3.5rem; font-weight: 900; color: #ef4444; }
        
        /* ë¶„ì„ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .analysis-box { width: 100%; background: #f9fafb; border-radius: 12px; padding: 15px; margin-bottom: 20px; }
        .analysis-table { width: 100%; border-collapse: collapse; }
        .analysis-table th { text-align: left; padding: 8px; color: #6b7280; font-size: 0.9rem; border-bottom: 2px solid #e5e7eb; }
        .analysis-table td { padding: 12px 8px; font-weight: bold; color: #374151; font-size: 1.1rem; border-bottom: 1px solid #f3f4f6; }
        .analysis-table td:last-child { text-align: right; color: #ef4444; }

        .btn-restart {
            background: #374151; color: white; border: none; padding: 12px 24px; border-radius: 10px;
            font-size: 1.2rem; font-weight: bold; cursor: pointer; margin-top: 10px;
        }

        .review-area { width: 100%; text-align: left; padding-bottom: 50px; }
        .review-title { font-size: 1.6rem; font-weight: 900; margin-bottom: 20px; display: flex; align-items: center; gap: 8px; margin-top: 40px; }
        .review-title:first-child { margin-top: 0; }

        .wrong-card { background: #fef2f2; border: 1px solid #fecaca; border-radius: 12px; padding: 25px; margin-bottom: 20px; }
        .correct-card { background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 12px; padding: 25px; margin-bottom: 20px; }
        
        .wc-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .wc-tag { color: white; font-size: 0.9rem; padding: 4px 10px; border-radius: 6px; font-weight: bold; background: #6b7280; }
        .wrong-card .wc-tag { background: #ef4444; }
        .correct-card .wc-tag { background: #16a34a; }

        .wc-q { font-size: 1.3rem; font-weight: bold; color: #1f2937; margin-bottom: 15px; line-height: 1.5; }
        .wc-ans-box { display: flex; gap: 20px; font-size: 1.2rem; margin-bottom: 15px; }
        .my-ans { color: #dc2626; text-decoration: line-through; }
        .my-ans-correct { color: #16a34a; font-weight: bold; }
        .cor-ans { color: #16a34a; font-weight: bold; }
        .wc-exp { background: white; padding: 20px; border-radius: 8px; font-size: 1.5rem; color: #374151; line-height: 1.6; border-left: 4px solid #ddd; }
        .wrong-card .wc-exp { border-left-color: #ef4444; }
        .correct-card .wc-exp { border-left-color: #16a34a; }
        
        .empty-msg { font-size: 1.2rem; color: #9ca3af; text-align: center; padding: 20px; }
    </style>
</head>
<body>

    <div class="top-bar">
        <a href="../index.html" class="back-link">ğŸ”™ ë©”ì¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <div class="mock-test-container">
        <canvas id="confetti-canvas"></canvas>

        <div id="start-screen" class="screen active">
            <h2 class="start-title">N2 ì‹¤ì „ ëª¨ì˜ê³ ì‚¬</h2>
            <p class="start-desc">
                ì‹¤ì œ ì‹œí—˜ì²˜ëŸ¼ í•œ ë²ˆ ì„ íƒí•˜ë©´ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>
                í•©ê²© ê¸°ì¤€ì€ <strong>60ì  ì´ìƒ</strong>ì…ë‹ˆë‹¤.<br>
                ë„ì „í•  ì½”ìŠ¤ë¥¼ ì„ íƒí•˜ì„¸ìš”!
            </p>
            
            <div class="course-grid">
                <button class="course-btn" data-count="10">
                    <span class="c-icon">ğŸ¥‰</span>
                    <span class="c-title">10ë¬¸ì œ</span>
                    <span class="c-time">ì œí•œì‹œê°„ 10ë¶„</span>
                </button>
                <button class="course-btn" data-count="20">
                    <span class="c-icon">ğŸ¥ˆ</span>
                    <span class="c-title">20ë¬¸ì œ</span>
                    <span class="c-time">ì œí•œì‹œê°„ 20ë¶„</span>
                </button>
                <button class="course-btn" data-count="50">
                    <span class="c-icon">ğŸ¥‡</span>
                    <span class="c-title">50ë¬¸ì œ</span>
                    <span class="c-time">ì œí•œì‹œê°„ 50ë¶„</span>
                </button>
            </div>
        </div>

        <div id="quiz-screen" class="screen">
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>

            <div class="quiz-header">
                <span class="q-badge" id="q-category">ë¬¸ìì–´íœ˜</span>
                <span class="timer" id="timer">00:00</span>
            </div>
            
            <div class="question-box">
                <div class="q-context" id="q-context" style="display:none;"></div>
                <div class="q-text" id="q-text">ë¬¸ì œ ë¡œë”© ì¤‘...</div>
            </div>

            <div class="options-grid" id="options-container"></div>
        </div>

        <div id="result-screen" class="screen">
            <div class="score-area">
                <div class="stamp" id="result-stamp">åˆæ ¼</div>
                <div class="score-title">ìµœì¢… ì ìˆ˜</div>
                <div class="final-score" id="score-display">0ì </div>
                
                <div class="analysis-box">
                    <table class="analysis-table">
                        <thead>
                            <tr>
                                <th>ìœ í˜•</th>
                                <th>ë§íŒ ê°œìˆ˜</th>
                                <th>ì •ë‹µë¥ </th>
                            </tr>
                        </thead>
                        <tbody id="analysis-tbody">
                        </tbody>
                    </table>
                </div>

                <button class="btn-restart" id="btn-restart-game">â†º ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>

            <div class="review-area">
                <div class="review-title" style="color:#ef4444;">ğŸ“ ì˜¤ë‹µ ë…¸íŠ¸ (Check)</div>
                <div id="wrong-answers-list"></div>

                <div class="review-title" style="color:#16a34a;">â­• ì •ë‹µ í™•ì¸ (Good)</div>
                <div id="correct-answers-list"></div>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        
        const masterDB = [
            // --- ë¬¸ì ì–´íœ˜ ---
            { cat: "ë¬¸ìì–´íœ˜", q: "ç’°å¢ƒæ±šæŸ“ã‚’é˜²ããŸã‚ã®<u>æªç½®</u>ã‚’ã¨ã‚‹ã€‚", ans: ["ã—ã‚‡ì¹˜", "ãã¡", "ã›ã£ã¡", "ì‚¬ì¹˜"], cor: 1, exp: "æªç½®(ãã¡)ëŠ” 'ì¡°ì¹˜'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "ä¸Šå¸ã®<u>æ‰¿è«¾</u>ã‚’å¾—ã¦ã‹ã‚‰è¡Œå‹•ã™ã‚‹ã€‚", ans: ["ã—ã‚‡ã†ã ã", "ã˜ã‚‡ã†ã ã", "ã—ã‚‡ã†ã®ã", "ã˜ã‚‡ã†ì˜"], cor: 0, exp: "æ‰¿è«¾(ã—ã‚‡ã†ã ã)ëŠ” 'ìŠ¹ë‚™'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "æ–°ã—ã„äº‹æ¥­ã‚’<u>æ¨¡ç´¢</u>ã—ã¦ã„ã‚‹ã€‚", ans: ["ã°ãã•ã", "ã‚‚ã•ã", "ã¼ã•ã", "ë§ˆì¿ ì‚¬ì¿ "], cor: 1, exp: "æ¨¡ç´¢(ã‚‚ã•ã)ëŠ” 'ëª¨ìƒ‰'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "å½¼ã¯ã„ã¤ã‚‚<u>æ½”ã„</u>æ…‹åº¦ã‚’ã¨ã‚‹ã€‚", ans: ["ã„ã•ãã‚ˆã„", "ãã‚ˆã„", "ã™ã‚‹ã©ã„", "ì¹´ì‹œì½”ì´"], cor: 0, exp: "æ½”(ã„ã•ãã‚ˆ)ã„: ë¯¸ë ¨ ì—†ì´ ê¹¨ë—í•˜ë‹¤, ë–³ë–³í•˜ë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "äº¤æ¸‰ãŒ<u>å¦¥çµ</u>ã—ãŸã€‚", ans: ["ã ã‘ã¤", "ã ãã¤", "ãŸã‘ã¤", "íƒ€í‚¤ì¸ "], cor: 0, exp: "å¦¥çµ(ã ã‘ã¤)ëŠ” 'íƒ€ê²°'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "<u>å¿«ã„</u>è¿”äº‹ã‚’ã„ãŸã ã„ãŸã€‚", ans: ["ã“ã“ã‚ã‚ˆã„", "ã¯ã‚„ã„", "ã‹ã‚‹ã„", "ì•„ì¹´ë£¨ì´"], cor: 0, exp: "å¿«(ã“ã“ã‚ã‚ˆ)ì´: ìƒì¾Œí•˜ë‹¤, ê¸°ë¶„ ì¢‹ë‹¤, í”ì¾Œí•˜ë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "ã“ã®ä»¶ã¯<u>ä¿ç•™</u>ã«ã—ã¦ãŠã“ã†ã€‚", ans: ["ã»ã‚Šã‚…ã†", "ã»ã†ã‚Šã‚…ã†", "ã»ã‚‹", "í˜¸ìš°ë£¨"], cor: 0, exp: "ä¿ç•™(ã»ã‚Šã‚…ã†)ëŠ” 'ë³´ë¥˜'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "<u>æŸ”è»Ÿ</u>ãªå¯¾å¿œãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚", ans: ["ã˜ã‚…ã†ãªã‚“", "ã˜ã‚…ãªã‚“", "ã—ã‚…ã†ãªã‚“", "ìŠˆë‚œ"], cor: 0, exp: "æŸ”è»Ÿ(ã˜ã‚…ã†ãªã‚“)ì€ 'ìœ ì—°'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "è¢«å®³ã®æ‹¡å¤§ã‚’<u>é˜»æ­¢</u>ã™ã‚‹ã€‚", ans: ["ãã—", "ã—ã‚‡ã—", "ãæ­¢", "ì‚¬ì‹œ"], cor: 0, exp: "é˜»æ­¢(ãì‹œ)ëŠ” 'ì €ì§€'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "<u>é¡•è‘—</u>ãªå‚¾å‘ãŒè¦‹ã‚‰ã‚Œã‚‹ã€‚", ans: ["ã‘ã‚“ã¡ã‚‡", "ã’ã‚“ã¡ã‚‡", "ã‘ã‚“ã—ã‚‡", "ê²ì‡¼"], cor: 0, exp: "é¡•è‘—(ã‘ã‚“ã¡ã‚‡)ëŠ” 'í˜„ì €(ëšœë ·í•¨)'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "ç®±ã®<u>ä¸­èº«</u>ã‚’ç¢ºèªã™ã‚‹ã€‚", ans: ["ãªã‹ã¿", "ã¡ã‚…ã†ã—ã‚“", "ë‚˜ì¹´ì‹ ", "ì¸„ìš°ë¯¸"], cor: 0, exp: "ä¸­èº«(ãªã‹ã¿)ëŠ” 'ë‚´ìš©ë¬¼, ì•Œë§¹ì´'ì…ë‹ˆë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "<u>é€Ÿã‚„ã‹</u>ã«è¡Œå‹•ã—ã¦ãã ã•ã„ã€‚", ans: ["ã™ã¿ã‚„ã‹", "ã™ã“ã‚„ã‹", "ì•„ìì•¼ì¹´", "ì‹œë‚˜ì•¼ì¹´"], cor: 0, exp: "é€Ÿ(ã™ã¿)ì•¼ì¹´: ì‹ ì†í•¨, ë¹ ë¦„." },
            { cat: "ë¬¸ìì–´íœ˜", q: "<u>æ„šã‹</u>ãªè¡Œå‹•ã¯æ…ã‚€ã¹ãã ã€‚", ans: ["ãŠã‚ã‹", "ãŠã”ã‹", "ì˜¤ë¡œì†Œì¹´", "ì¹´ìŠ¤ì¹´"], cor: 0, exp: "æ„š(ãŠã‚)ì¹´: ì–´ë¦¬ì„ìŒ." },
            { cat: "ë¬¸ìì–´íœ˜", q: "<u>å·§ã¿</u>ãªæŠ€ì— ê°íƒ„í–ˆë‹¤.", ans: ["ãŸãã¿", "ãŸã—ãªã¿", "ì¸ ì¹´ë¯¸", "íƒ€íƒ€ì¦ˆë¯¸"], cor: 0, exp: "å·§(ãŸã)ë¯¸: ì†œì”¨ê°€ ì¢‹ìŒ, êµë¬˜í•¨." },
            { cat: "ë¬¸ìì–´íœ˜", q: "æ „é¤Šì´ <u>åã‚‹</u>ã€‚", ans: ["ã‹ãŸã‚ˆã‚‹", "ã¸ã‚“ã‚‹", "ì¹´íƒ€ë§ˆë£¨", "í—¤ë‹¤íƒ€ë£¨"], cor: 0, exp: "å(ã‹ãŸã‚ˆ)ë£¨: ì¹˜ìš°ì¹˜ë‹¤, í¸ì¤‘ë˜ë‹¤." },
            
            // --- ì–´íœ˜ ë¬¸ë§¥ ---
            { cat: "ë¬¸ìì–´íœ˜", q: "å¹´é½¢ã‚„æ€§åˆ¥ã‚’( &nbsp;&nbsp;&nbsp; )æ¡ç”¨ã™ã‚‹ã€‚", ans: ["å•ã‚ãš", "é–¢ã‚ã‚‰ãš", "è¾¼ã‚ã¦", "é€šã˜ã¦"], cor: 0, exp: "ï½ã‚’å•(ã¨)ã‚ãš: ~ë¥¼ ë¶ˆë¬¸í•˜ê³ ." },
            { cat: "ë¬¸ìì–´íœ˜", q: "æ„è¦‹ã®é£Ÿã„é•ã„ã‚’( &nbsp;&nbsp;&nbsp; )ã™ã‚‹ã€‚", ans: ["æ˜¯æ­£", "ä¿®æ­£", "è¨‚æ­£", "æ”¹æ­£"], cor: 0, exp: "åæ˜ (ãœã›ã„): (ë‚˜ìœ ì ì„) ë°”ë¡œì¡ìŒ, ì‹œì •." },
            { cat: "ë¬¸ìì–´íœ˜", q: "å½¼ã¯( &nbsp;&nbsp;&nbsp; )ãªæ€§æ ¼ã§ç´°ã‹ã„ã“ã¨ã¯æ°—ã«ã—ãªã„ã€‚", ans: ["ãŠãŠã‚‰ã‹", "ãŠã‚ãã‹", "ë‚˜ë‹¤ë¼ì¹´", "í˜¸ê°€ë¼ì¹´"], cor: 0, exp: "ãŠãŠã‚‰ã‹: ëŒ€ë²”í•˜ê³  ëŠê¸‹í•¨." },
            { cat: "ë¬¸ìì–´íœ˜", q: "é•·å¹´ã®åŠªåŠ›ãŒ( &nbsp;&nbsp;&nbsp; )ã€‚", ans: ["å®Ÿã£ãŸ", "ç†Ÿã—ãŸ", "å¶ã£ãŸ", "í‚¤ì´íƒ€"], cor: 0, exp: "åŠªåŠ›ãŒå®Ÿ(ã¿ã®)ë£¨: ë…¸ë ¥ì´ ê²°ì‹¤ì„ ë§ºë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "å…·ä½“çš„ãªã‚¤ãƒ¡ãƒ¼ã‚¸ãŒ( &nbsp;&nbsp;&nbsp; )ã«ãã„ã€‚", ans: ["ã‚ã", "ã¤ã", "ìš°ì¹´ë¹„", "ë°í‚¤"], cor: 0, exp: "ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã(ì†Ÿë‹¤): ì´ë¯¸ì§€ê°€ ë– ì˜¤ë¥´ë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "æ¨©åŠ›ã‚’( &nbsp;&nbsp;&nbsp; )ã«ç€ã‚‹ã€‚", ans: ["ã‹ã•", "ãŸã¦", "ìš°ì‹œë¡œ", "ì™€ì¿ "], cor: 0, exp: "ç¬ (ã‹ã•)ã«ç€ã‚‹: ê¶Œë ¥ì„ ë“±ì— ì—…ê³  ìœ„ì„¸ë¥¼ ë¶€ë¦¬ë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "ç§ã«ã¯è·ãŒ( &nbsp;&nbsp;&nbsp; )ã€‚", ans: ["é‡ã„", "é«˜ã„", "å¼·ã„", "ì¹´íƒ€ì´"], cor: 0, exp: "è·(ì—)ê°€ é‡(ì˜¤ëª¨)ì´: ì§ì´ ë¬´ê²ë‹¤(ì±…ì„ì´ ê³¼í•˜ë‹¤)." },
            { cat: "ë¬¸ìì–´íœ˜", q: "ç§˜å¯†ã‚’( &nbsp;&nbsp;&nbsp; )ã€‚", ans: ["æ‰“ã¡æ˜ã‘ãŸ", "æ‰“ã¡åˆ‡ã£ãŸ", "æ‰“ã¡è¾¼ã‚“ã ", "ìš°ì¹˜ë„ì¼€íƒ€"], cor: 0, exp: "æ‰“ã¡æ˜ã‘ã‚‹: (ë¹„ë°€ì„) í„¸ì–´ë†“ë‹¤." },
            { cat: "ë¬¸ìì–´íœ˜", q: "æ´»ç™ºãªæ„è¦‹ãŒ( &nbsp;&nbsp;&nbsp; )ã€‚", ans: ["äº¤ã‚ã•ã‚ŒãŸ", "äº¤ãœã‚‰ã‚ŒãŸ", "êµì§€íƒ€", "í† ì˜¤ì™€ì‚¬ë ˆíƒ€"], cor: 0, exp: "æ„è¦‹ã‚’äº¤(ì¹´)ì™€ìŠ¤: ì˜ê²¬ì„ ë‚˜ëˆ„ë‹¤(êµí™˜í•˜ë‹¤)." },
            { cat: "ë¬¸ìì–´íœ˜", q: "å‰ä½œã‚’( &nbsp;&nbsp;&nbsp; )å£²ã‚Šä¸Šã’ã ã€‚", ans: ["ã—ã®ã", "ã†ã‚ã¾ã‚ã‚‹", "ì½”ì—ë£¨", "ë§ˆì‚¬ë£¨"], cor: 0, exp: "å‡Œ(ì‹œë…¸)êµ¬: ëŠ¥ê°€í•˜ë‹¤, ì•ì§€ë¥´ë‹¤." },

            // --- ë¬¸ë²• ---
            { cat: "ë¬¸ë²•", q: "é–“é•ã£ã¦ã„ã‚‹( &nbsp;&nbsp; ) ( &nbsp;&nbsp; ) ( â˜… ) ( &nbsp;&nbsp; )ã€è¬ã‚‰ãªã„ã€‚", ans: ["ã“ã¨ã¯", "çŸ¥ã£ã¦ã„ã‚‹", "ãã›ã«", "ë…¸"], cor: 2, exp: "ì •ë‹µ ìˆœì„œ: é–“é•ã£ã¦ã„ã‚‹[ã“ã¨ã¯][çŸ¥ã£ã¦ã„ã‚‹][ãã›ã«] (â˜…3ë²ˆì§¸).<br>~ãã›ã«: ~ì¸ ì£¼ì œì—." },
            { cat: "ë¬¸ë²•", q: "å®¶ã‚’å‡ºã‚ˆã†ã¨ã—ãŸ( &nbsp;&nbsp;&nbsp; )é›»è©±ê°€ ì™”ë‹¤.", ans: ["ã¨ãŸã‚“ã«", "ã¨ã“ã‚ã«", "æœ€ä¸­ã«", "ë°”ì¹´ë¦¬ë‹ˆ"], cor: 0, exp: "~(ã‚ˆã†)ã¨ã—ãŸã¨ãŸã‚“: ~í•˜ë ¤ëŠ” ìˆœê°„." },
            { cat: "ë¬¸ë²•", q: "ãƒ‡ãƒ¼ã‚¿ã‚’è¦‹ã‚‹( &nbsp;&nbsp;&nbsp; )ã€å›å¾©ã—ã¦ã„ã‚‹ã€‚", ans: ["ã‹ãã‚Š", "ã†ãˆ", "ì•„ì´ë‹¤", "ë‚˜ì¹´"], cor: 0, exp: "~ã‹ãã‚Š(ã§ã¯): ~í•˜ëŠ” í•œ(ì—ì„œëŠ”) / ~í•œ ë°”ë¡œëŠ”." },
            { cat: "ë¬¸ë²•", q: "ã†ã‚Œã—ã„( &nbsp;&nbsp;&nbsp; )ã‚ã‚Šã‚ƒã—ãªã„ã€‚", ans: ["ã¨ã„ã£ãŸã‚‰", "ã“ã¨", "ã‚‚ã®", "í† ì½”ë¡œ"], cor: 0, exp: "~ã¨ã„ã£ãŸã‚‰ã‚ã‚Šã‚ƒã—ãªã„: ~í•˜ê¸° ì§ì´ ì—†ë‹¤ (ê°•ì¡°)." },
            { cat: "ë¬¸ë²•", q: "è¦‹ã‚Œã°è¦‹ã‚‹( &nbsp;&nbsp;&nbsp; )é¢ç™½ããªã‚‹ã€‚", ans: ["ã»ã©", "ãã‚‰ã„", "ã ã‘", "ë°”ì¹´ë¦¬"], cor: 0, exp: "~ã°~ã»ã©: ~í•˜ë©´ ~í• ìˆ˜ë¡." },
            { cat: "ë¬¸ë²•", q: "å¤©æ‰( &nbsp;&nbsp;&nbsp; )åŠªåŠ›å®¶ã ã€‚", ans: ["ã¨ã„ã†ã‚ˆã‚Š", "ã¨ã„ã†ã‹", "ã¨ã„ã£ã¦ã‚‚", "í† ì´ì—ë°”"], cor: 0, exp: "Aë¼ëŠ”ê²ƒë³´ë‹¤B: Aë¼ê¸°ë³´ë‹¤ Bë‹¤." },
            { cat: "ë¬¸ë²•", q: "å­ä¾›( &nbsp;&nbsp;&nbsp; )çŸ¥ã£ã¦ã„ã‚‹ã€‚", ans: ["ì—ì„œë„", "ë‚˜ë¼", "ë‹¤ì¹´ë¼", "ì½”ì†Œ"], cor: 0, exp: "N + ã§ã‚‚: ~ë¼ë„ (ê·¹ë‹¨ì  ì˜ˆì‹œ)." },
            { cat: "ë¬¸ë²•", q: "å¿™ã—ã„( &nbsp;&nbsp;&nbsp; )è¿”ä¿¡ã‚’å¿˜ã‚ŒãŸã€‚", ans: ["ã‚ã¾ã‚Š", "ë°”ì¹´ë¦¬", "ì•„ë§ˆë¦¬ë‹ˆ", "í˜¸ë„"], cor: 0, exp: "~ì•„ë§ˆë¦¬: ë„ˆë¬´ ~í•œ ë‚˜ë¨¸ì§€ (ë¶€ì •ì  ê²°ê³¼)." },
            { cat: "ë¬¸ë²•", q: "æ±ºã‚ãŸ( &nbsp;&nbsp;&nbsp; )ã‚„ã‚‹ã¹ãã ã€‚", ans: ["ã‹ã‚‰ã«ã¯", "ã‹ã‚‰ã¯", "ì¹´ë¼ì‹œí…Œ", "ì¹´ë¼í† í…Œ"], cor: 0, exp: "~ã‹ã‚‰ì—ëŠ”: ~í•œ ì´ìƒì—ëŠ” (ì˜ë¬´/ì˜ì§€)." },
            { cat: "ë¬¸ë²•", q: "æ•™ãˆã¦ãã‚Œã¦ã‚‚ã„ã„( &nbsp;&nbsp;&nbsp; )ã€‚", ans: ["ã‚‚ã®ã‚’", "ã“ã¨ã‚’", "ì™€ì¼€ì˜¤", "í•˜ì¦ˆì˜¤"], cor: 0, exp: "~ëª¨ë…¸ì˜¤: ~í–ˆì„ í…ë° (ìœ ê°)." },
            { cat: "ë¬¸ë²•", q: "å½¼ã¯æ¥ã‚‹( &nbsp;&nbsp;&nbsp; )ãªã„ã‚ˆã€‚", ans: ["ã£ã“", "ã¹ã", "í•˜ì¦ˆ", "ì™€ì¼€"], cor: 0, exp: "Vã¾ã™ + ã£ã“ãªã„: ~í•  ë¦¬ê°€ ì—†ë‹¤." },
            { cat: "ë¬¸ë²•", q: "å‘³( &nbsp;&nbsp;&nbsp; )é›°å›²æ°—( &nbsp;&nbsp;&nbsp; )æœ€é«˜ã ã€‚", ans: ["ã¨ã„ã„ï¼ã¨ã„ã„", "ã¨ã„ã‚ãšï¼ã¨ã„ã‚ãš", "ì•¼ë¼ï¼ì•¼ë¼", "ë‚˜ë¦¬ï¼ë‚˜ë¦¬"], cor: 0, exp: "Ní† ì´ì´Ní† ì´ì´: Në„ ê·¸ë ‡ê³  Në„ ê·¸ë ‡ê³  (í‰ê°€)." },
            { cat: "ë¬¸ë²•", q: "ã‚²ãƒ¼ãƒ ( &nbsp;&nbsp;&nbsp; )å¯ã‚‹( &nbsp;&nbsp;&nbsp; )ã—ã¦éã”ã™ã€‚", ans: ["ë‚˜ë¦¬ï¼ë‚˜ë¦¬", "í† ì¹´ï¼í† ì¹´", "ì•¼ë¼ï¼ì•¼ë¼", "ë‹¤ë…¸ï¼ë‹¤ë…¸"], cor: 0, exp: "~ë‚˜ë¦¬~ë‚˜ë¦¬: ~í•˜ë“  ~í•˜ë“  (ì˜ˆì‹œ)." },
            { cat: "ë¬¸ë²•", q: "æœŸå¾…ã«( &nbsp;&nbsp;&nbsp; )ã¹ãåŠªåŠ›ã—ãŸã€‚", ans: ["å¿œãˆã‚‹", "å¿œãˆã‚‹", "ì†Œìš°", "ì‹œíƒ€ê°€ìš°"], cor: 0, exp: "å¿œ(ì½”íƒ€)ì—ë£¨ë² ì¿ : ë¶€ì‘í•˜ê¸° ìœ„í•´." },
            { cat: "ë¬¸ë²•", q: "éé›£ã•ã‚Œã¦ã‚‚ä»•æ–¹ãŒ( &nbsp;&nbsp;&nbsp; )ã€‚", ans: ["ãªã„", "ã‚ã‚‹", "ë‚˜ë£¨", "ì´ë£¨"], cor: 0, exp: "ä»•æ§˜(ì‹œìš”)ê°€ë‚˜ì´: ì–´ì©” ìˆ˜ ì—†ë‹¤, ë‹¹ì—°í•˜ë‹¤." },
            { cat: "ë¬¸ë²•", q: "å±±é ‚ã¾ã§ã‚ã¨ä¸€æ­©ã¨ã„ã†( &nbsp;&nbsp;&nbsp; )ã€è«¦ã‚ã¦ã—ã¾ã£ãŸã€‚", ans: ["ã¨ã“ã‚ã§", "ã¨ã“ã‚ã«", "í† ì½”ë¡œì˜¤", "í† ì½”ë¡œê°€"], cor: 0, exp: "~í† ì½”ë¡œë°: ~í•˜ë ¤ë˜ ì°°ë‚˜ì—/ìƒí™©ì—ì„œ." },
            { cat: "ë¬¸ë²•", q: "è¬ã£ãŸ( &nbsp;&nbsp;&nbsp; )ã€è¨±ã—ã¦ã¯ã‚‚ã‚‰ãˆãªã„ã ã‚ã†ã€‚", ans: ["ã¨ã“ã‚ã§", "ã¨ã—ãŸã‚‰", "ì¹´ë¼í† ì‡í…Œ", "í† ì´ì—ë„ëª¨"], cor: 0, exp: "VãŸ + í† ì½”ë¡œë°: ~í•´ë´¤ì (ì†Œìš©ì—†ë‹¤)." },
            { cat: "ë¬¸ë²•", q: "ã“ã®éš›ã€è»Šã‚’( &nbsp;&nbsp;&nbsp; )ã˜ã‚ƒãªã„ã‹ã€‚", ans: ["è²·ãŠã†", "è²·ã†", "ìº‡í…Œ", "ì¹´ì™€ë‚˜ì´"], cor: 0, exp: "~(ã‚ˆ)ìš°ìŸˆë‚˜ì´ì¹´: ~í•˜ì (ê¶Œìœ /ì œì•ˆ)." },
            { cat: "ë¬¸ë²•", q: "ä¿¡ã˜ã‚ˆã†( &nbsp;&nbsp;&nbsp; )ä¿¡ã˜ã¾ã„( &nbsp;&nbsp;&nbsp; )ã€äº‹å®Ÿã ã€‚", ans: ["ã¨ï¼ã¨", "ê°€ï¼ê°€", "ì¹´ï¼ì¹´", "ë…¸ï¼ë…¸"], cor: 0, exp: "~(ã‚ˆ)ìš°í† ~ë§ˆì´í† : ~í•˜ë“  ~ì•Šë“ ." },
            { cat: "ë¬¸ë²•", q: "å½¼ã¯åŒ»è€…( &nbsp;&nbsp;&nbsp; )ã€åŒ»å­¦ã®çŸ¥è­˜ã¯ãªã„ã€‚", ans: ["ã¨ã„ãˆã©ã‚‚", "ãªãŒã‚‰", "ì¸ ì¸ ", "ëª¨ë…¸ë…¸"], cor: 0, exp: "~í† ì´ì—ë„ëª¨: ~ë¼ê³  í•´ë„ (ê°€ì •/ì–‘ë³´)." },

            // --- ë…í•´ ---
            { cat: "ë…í•´", q: "ç­†è€…ãŒè¨€ã„ãŸã„ã“ã¨ã¯ä½•ã‹ã€‚", context: "ã€Œå¤±æ•—ã¯æˆåŠŸì˜ ì–´ë¨¸ë‹ˆã€ë¼ê³  í•˜ì§€ë§Œ, ê·¸ëƒ¥ ì‹¤íŒ¨í•˜ë©´ ëœë‹¤ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ì‹¤íŒ¨ì—ì„œ ì›ì¸ì„ ë¶„ì„í•˜ê³  ê°œì„ ì±…ì„ ìƒê°í•˜ë©°, ë‹¤ìŒì— ì‚´ë¦¬ë ¤ëŠ” ìì„¸ê°€ ìˆì–´ì•¼ ì‹¤íŒ¨ëŠ” ê°€ì¹˜ë¥¼ ê°–ëŠ”ë‹¤.", ans: ["ì‹¤íŒ¨ì—ì„œ ë°°ìš°ê³  ë‹¤ìŒì— ì‚´ë¦¬ëŠ” ìì„¸ê°€ ì¤‘ìš”í•˜ë‹¤.", "ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œ ë§ê³  ë„ì „í•˜ëŠ” ê²ƒì´ ì†Œì¤‘í•˜ë‹¤.", "ì‹¤íŒ¨í•´ë„ ì„±ê³µí•˜ë©´ ëª¨ë‘ ìš©ì„œëœë‹¤.", "ì‹¤íŒ¨ë¥¼ ë°˜ë³µí•˜ëŠ” ê²ƒì€ ì„±ê³µì˜ ì§€ë¦„ê¸¸ì´ë‹¤."], cor: 0, exp: "í•„ìëŠ” ì‹¤íŒ¨ë¥¼ ë¶„ì„í•˜ê³  ë‹¤ìŒì— ì‚´ë¦¬ëŠ” 'ìì„¸'ê°€ ì¤‘ìš”í•˜ë‹¤ê³  ë§í•©ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "ç­†è€…ã®è€ƒãˆã«æœ€ã‚‚è¿‘ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", context: "ì—¬í–‰ì˜ ë¬˜ë¯¸ëŠ” ì˜ˆì •ëŒ€ë¡œ ë˜ì§€ ì•ŠëŠ” ê²ƒì— ìˆë‹¤. ê¸¸ì„ ìƒê±°ë‚˜ ë§ì´ í†µí•˜ì§€ ì•ŠëŠ” íŠ¸ëŸ¬ë¸”ì´ì•¼ë§ë¡œ ë‚˜ì¤‘ì— ê°€ì¥ í° ì¶”ì–µì´ ë˜ëŠ” ë²•ì´ë‹¤.", ans: ["ì˜ˆê¸°ì¹˜ ëª»í•œ íŠ¸ëŸ¬ë¸”ì´ ì—¬í–‰ì˜ ì¢‹ì€ ì¶”ì–µì´ ëœë‹¤.", "ì—¬í–‰ì€ ê³„íšëŒ€ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤.", "ë§ì´ í†µí•˜ì§€ ì•ŠëŠ” ì¥ì†Œì—ëŠ” ê°€ì§€ ë§ì•„ì•¼ í•œë‹¤.", "ì™„ë²½í•œ ìŠ¤ì¼€ì¤„ì´ ì¢‹ë‹¤."], cor: 0, exp: "ì˜ˆì •ëŒ€ë¡œ ë˜ì§€ ì•ŠëŠ” íŠ¸ëŸ¬ë¸”ì´ ì¶”ì–µì´ ëœë‹¤ëŠ” ë‚´ìš©ì…ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "ã€Œãã‚Œã€ãŒæŒ‡ã™å†…å®¹ã¯ä½•ã‹ã€‚", context: "ì¸ê°„ì€ ëˆ„êµ¬ë‚˜ íƒ€ì¸ì—ê²Œ ì¸ì •ë°›ê³  ì‹¶ë‹¤ëŠ” ìš•êµ¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤. í•˜ì§€ë§Œ <u>ê·¸ê²ƒ</u>ë§Œì„ ì«“ìœ¼ë©´ ìê¸° ìì‹ ì„ ìƒì–´ë²„ë¦¬ê³  ë§Œë‹¤.", ans: ["íƒ€ì¸ì—ê²Œ ì¸ì •ë°›ê³  ì‹¶ë‹¤ëŠ” ìš•êµ¬", "ìê¸° ìì‹ ì„ ìƒì–´ë²„ë¦¬ëŠ” ê²ƒ", "íƒ€ì¸ì˜ í‰ê°€", "ìì‹ ì´ ì–´ë–»ê²Œ ìˆê³  ì‹¶ì€ì§€"], cor: 0, exp: "'ê·¸ê²ƒ'ì€ ë°”ë¡œ ì•ì˜ 'íƒ€ì¸ì—ê²Œ ì¸ì •ë°›ê³  ì‹¶ì€ ìš•êµ¬'ë¥¼ ì§€ì¹­í•©ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "ã“ã®ãƒ¡ãƒ¼ãƒ«ã®ç›®çš„ã¯ä½•ã‹ã€‚", context: "ê±´ëª…: íšŒì˜ ì¼ì • ë³€ê²½ì— ëŒ€í•˜ì—¬<br>ë‚´ì¼ 14ì‹œ íšŒì˜ì…ë‹ˆë‹¤ë§Œ, ê¸‰í•œ ì¼ë¡œ 16ì‹œë¡œ ë³€ê²½í•˜ê³ ì í•©ë‹ˆë‹¤.", ans: ["íšŒì˜ ì‹œê°„ì„ ë³€ê²½í•˜ê³  ì‹¶ì–´ ì˜ë¢°í•˜ê¸° ìœ„í•´", "íšŒì˜ë¥¼ ì¤‘ì§€í•˜ëŠ” ê²ƒì„ ì•Œë¦¬ê¸° ìœ„í•´", "íŠ¸ëŸ¬ë¸” ë‚´ìš©ì„ ë³´ê³ í•˜ê¸° ìœ„í•´", "íšŒì˜ ì¥ì†Œë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´"], cor: 0, exp: "ì‹œê°„ ë³€ê²½ì„ ìš”ì²­í•˜ëŠ” ë©”ì¼ì…ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "ç­†è€…ãŒè€ƒãˆã‚‹ã€Œæœ¬å½“ã®å„ªã—ã•ã€ã¨ã¯ä½•ã‹ã€‚", context: "ë°”ë¡œ ë„ì›€ì„ ì£¼ëŠ” ê²ƒì´ ì¹œì ˆì´ë¼ê³ ëŠ” í•  ìˆ˜ ì—†ë‹¤. ê·¸ ì‚¬ëŒì´ ìŠ¤ìŠ¤ë¡œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ êµ³ì´ ì§€ì¼œë³´ëŠ” ê²ƒë„ ë˜í•œ ì¹œì ˆì˜ í•˜ë‚˜ë‹¤.", ans: ["ìƒëŒ€ì˜ ìë¦½ì„ ìœ„í•´ êµ³ì´ ì§€ì¼œë³´ëŠ” ê²ƒ", "ê³¤ë€í•œ ì‚¬ëŒì„ ë°”ë¡œ ë„ì™€ì£¼ëŠ” ê²ƒ", "ìƒëŒ€ì˜ ì„±ì¥ ê¸°íšŒë¥¼ ë¹¼ì•—ëŠ” ê²ƒ", "ë¬¸ì œë¥¼ ëŒ€ì‹  í•´ê²°í•´ ì£¼ëŠ” ê²ƒ"], cor: 0, exp: "ìŠ¤ìŠ¤ë¡œ í•´ê²°í•˜ë„ë¡ ì§€ì¼œë³´ëŠ” ê²ƒë„ ìƒëƒ¥í•¨ì…ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "ã‚°ãƒ©ãƒ•ã®èª¬æ˜ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", context: "(ê·¸ë˜í”„ ì„¤ëª…: 10ëŒ€ ìŠ¤ë§ˆíŠ¸í° ì´ìš© ì‹œê°„ì€ ë§¤ë…„ ì¦ê°€í•˜ê³  ìˆìœ¼ë‚˜, 20ëŒ€ëŠ” íš¡ë³´ ìƒíƒœë‹¤.)", ans: ["10ëŒ€ëŠ” ëŠ˜ê³  ìˆìœ¼ë‚˜ 20ëŒ€ëŠ” ë³„ ë³€í™”ê°€ ì—†ë‹¤.", "10ëŒ€ì™€ 20ëŒ€ ëª¨ë‘ ê¸‰ê²©íˆ ëŠ˜ê³  ìˆë‹¤.", "20ëŒ€ê°€ 10ëŒ€ë³´ë‹¤ ì´ìš© ì‹œê°„ì´ ê¸¸ë‹¤.", "10ëŒ€ëŠ” ì¤„ê³  20ëŒ€ëŠ” ëŠ˜ê³  ìˆë‹¤."], cor: 0, exp: "10ëŒ€ëŠ” ì¦ê°€, 20ëŒ€ëŠ” íš¡ë³´(ë³€í™” ì—†ìŒ)ì…ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "æŒ‡ç¤ºã®å†…å®¹ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚", context: "ì•½ ë³µìš©ì— ëŒ€í•˜ì—¬: ì‹í›„ 30ë¶„ ì´ë‚´ì— ë³µìš©í•˜ì„¸ìš”. ë‹¨, ë‹¤ìŒ ë³µìš© ì‹œê°„ì´ ê°€ê¹ë‹¤ë©´ 1íšŒë¶„ì€ ê±´ë„ˆë›°ì„¸ìš”.", ans: ["ë‹¤ìŒ ë³µìš© ì‹œê°„ì´ ê°€ê¹Œìš°ë©´ ë¨¹ì§€ ì•Šê³  ê±´ë„ˆë›´ë‹¤.", "ë³µìš©ì„ ìŠì—ˆë‹¤ë©´ ë‹¤ìŒ íšŒì— 2íšŒë¶„ì„ ë¨¹ëŠ”ë‹¤.", "ì‹ì „ 30ë¶„ì— ë°˜ë“œì‹œ ë¨¹ëŠ”ë‹¤.", "ìƒê°ë‚¬ì„ ë•Œ ë¨¹ì–´ì„œëŠ” ì•ˆ ëœë‹¤."], cor: 0, exp: "ë³µìš© ì‹œê°„ì´ ê°€ê¹Œìš°ë©´ 1íšŒë¶„ì„ ê±´ë„ˆë›°ë¼ëŠ” ì§€ì‹œì…ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "ã“ã®åº—ã®ç‰¹å¾´ã¯ä½•ã‹ã€‚", context: "ìš°ë¦¬ ê°€ê²Œ ì±„ì†ŒëŠ” ëª¨ë‘ ê³„ì•½ ë†ê°€ì—ì„œ ë§¤ì¼ ì•„ì¹¨ ì§ì†¡ë˜ëŠ” ë¬´ë†ì•½ ì±„ì†Œì…ë‹ˆë‹¤. ëª¨ì–‘ì€ ê³ ë¥´ì§€ ì•Šì§€ë§Œ ë§›ì˜ ê¹Šì´ëŠ” ë³´ì¥í•©ë‹ˆë‹¤.", ans: ["ì‹ ì„ í•˜ê³  ì•ˆì „í•œ ë¬´ë†ì•½ ì±„ì†Œë¥¼ ì‚¬ìš©í•œë‹¤.", "ëª¨ì–‘ì´ ê³ ë¥´ê³  ì˜ˆìœ ì±„ì†Œë¥¼ ì‚¬ìš©í•œë‹¤.", "ê³ ê¸‰ ì‹ì¬ë£Œë¥¼ ì‚¬ìš©í•œë‹¤.", "ìˆ˜ì… ì±„ì†Œë¥¼ ì‚¬ìš©í•œë‹¤."], cor: 0, exp: "ë§¤ì¼ ì§ì†¡ë˜ëŠ” ì‹ ì„ í•˜ê³  ì•ˆì „í•œ ë¬´ë†ì•½ ì•¼ì±„ê°€ íŠ¹ì§•ì…ë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "Aã•ã‚“ãŒã“ã‚Œã‹ã‚‰ã™ã‚‹ã“ã¨ã¯ä½•ã‹ã€‚", context: "Aã€Œë³µì‚¬ ìš©ì§€ê°€ ë‹¤ ë˜ì–´ ê°€ë„¤.ã€<br>Bã€Œì°½ê³ ì— ìˆì–´. ê°€ì ¸ì˜¬ê¹Œ?ã€<br>Aã€Œì•„ë‹ˆ, ë‚´ê°€ ê°€ëŠ” ê¹€ì— ê°€ì ¸ì˜¬ê²Œ. ê²¸ì‚¬ê²¸ì‚¬ ìš°í¸ë„ ë¶€ì¹˜ê³  ì˜¬ê²Œ.ã€", ans: ["ì°½ê³ ì—ì„œ ì¢…ì´ë¥¼ ê°€ì ¸ì˜¤ê³  ìš°í¸ì„ ë¶€ì¹œë‹¤.", "ë³µì‚¬ ìš©ì§€ë¥¼ ì£¼ë¬¸í•œë‹¤.", "Bì—ê²Œ ì°½ê³ ì— ê°€ë‹¬ë¼ê³  í•œë‹¤.", "ê·¸ì € ìš°í¸ì„ ë¶€ì¹˜ëŸ¬ ê°ˆ ë¿ì´ë‹¤."], cor: 0, exp: "AëŠ” ì°½ê³ ì—ì„œ ì¢…ì´ë„ ê°€ì ¸ì˜¤ê³  ìš°í¸ë„ ë¶€ì¹˜ê² ë‹¤ê³  í–ˆìŠµë‹ˆë‹¤." },
            { cat: "ë…í•´", q: "ã“ã®è–¬ã®æ³¨æ„ç‚¹ã¯ä½•ã‹ã€‚", context: "ì¡¸ìŒì„ ìœ ë°œí•˜ëŠ” ì„±ë¶„ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ë³µìš© í›„ ì°¨ ìš´ì „ì€ í”¼í•´ ì£¼ì‹­ì‹œì˜¤.", ans: ["ë¨¹ì€ ë’¤ì—ëŠ” ìš´ì „í•´ì„œëŠ” ì•ˆ ëœë‹¤.", "ìê¸° ì „ì— ë¨¹ì–´ì•¼ í•œë‹¤.", "ìš´ì „í•˜ê¸° ì „ì— ë¨¹ëŠ” ê²ƒì´ ì¢‹ë‹¤.", "ì¡¸ë¦¬ì§€ ì•Šì„ ë•ŒëŠ” ë¨¹ì–´ì„œëŠ” ì•ˆ ëœë‹¤."], cor: 0, exp: "ë³µìš© í›„ ìš´ì „ì„ í”¼í•˜ë¼ëŠ” ì£¼ì˜ì‚¬í•­ì…ë‹ˆë‹¤." }
        ];

        let currentQueue = [];
        let currentIdx = 0;
        let score = 0;
        let totalTime = 0;
        let timerInterval;
        let userAnswers = [];

        const els = {
            startScreen: document.getElementById('start-screen'),
            quizScreen: document.getElementById('quiz-screen'),
            resultScreen: document.getElementById('result-screen'),
            qCategory: document.getElementById('q-category'),
            timer: document.getElementById('timer'),
            qText: document.getElementById('q-text'),
            qContext: document.getElementById('q-context'),
            optsContainer: document.getElementById('options-container'),
            progressBar: document.getElementById('progress-bar'),
            scoreDisplay: document.getElementById('score-display'),
            wrongList: document.getElementById('wrong-answers-list'),
            correctList: document.getElementById('correct-answers-list'),
            resultStamp: document.getElementById('result-stamp'),
            analysisBody: document.getElementById('analysis-tbody'),
            btnRestart: document.getElementById('btn-restart-game'),
            confettiCanvas: document.getElementById('confetti-canvas')
        };

        function startGame(count) {
            els.startScreen.classList.remove('active');
            els.quizScreen.classList.add('active');
            let shuffled = [...masterDB].sort(() => Math.random() - 0.5);
            currentQueue = shuffled.slice(0, count);
            totalTime = count * 60; 
            currentIdx = 0;
            score = 0;
            userAnswers = []; 
            startTimer();
            loadQuestion(0);
        }

        const courseBtns = document.querySelectorAll('.course-btn');
        courseBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const count = parseInt(this.dataset.count); 
                startGame(count);
            });
        });

        if(els.btnRestart) {
            els.btnRestart.addEventListener('click', resetGame);
        }

        function startTimer() {
            clearInterval(timerInterval);
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                totalTime--;
                updateTimerDisplay();
                if (totalTime <= 0) {
                    clearInterval(timerInterval);
                    finishTest();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const min = Math.floor(totalTime / 60);
            const sec = totalTime % 60;
            els.timer.innerText = `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
        }

        function loadQuestion(idx) {
            const data = currentQueue[idx];
            const progressPercent = ((idx) / currentQueue.length) * 100;
            els.progressBar.style.width = `${progressPercent}%`;
            els.qCategory.innerText = `${data.cat} (${idx + 1}/${currentQueue.length})`;
            els.qText.innerHTML = data.q;
            if (data.context) {
                els.qContext.style.display = 'block';
                els.qContext.innerHTML = data.context;
            } else {
                els.qContext.style.display = 'none';
            }
            els.optsContainer.innerHTML = '';
            data.ans.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerHTML = `${i + 1}. ${opt}`;
                btn.onclick = () => handleAnswer(i);
                els.optsContainer.appendChild(btn);
            });
        }

        function handleAnswer(selectedIdx) {
            const data = currentQueue[currentIdx];
            const isCorrect = (selectedIdx === data.cor);
            if (isCorrect) score++;
            userAnswers.push({
                idx: currentIdx,
                selected: selectedIdx,
                isCorrect: isCorrect,
                data: data
            });
            if (currentIdx < currentQueue.length - 1) {
                currentIdx++;
                loadQuestion(currentIdx);
            } else {
                els.progressBar.style.width = '100%';
                finishTest();
            }
        }

        function finishTest() {
            clearInterval(timerInterval);
            els.quizScreen.classList.remove('active');
            els.resultScreen.classList.add('active');
            renderResults();
        }

        function renderResults() {
            els.wrongList.innerHTML = '';
            els.correctList.innerHTML = '';
            els.analysisBody.innerHTML = '';
            let correctCount = 0;
            let stats = { "ë¬¸ìì–´íœ˜": { total: 0, cor: 0 }, "ë¬¸ë²•": { total: 0, cor: 0 }, "ë…í•´": { total: 0, cor: 0 } };

            userAnswers.forEach((record) => {
                const data = record.data;
                const userText = (record.selected !== undefined) ? data.ans[record.selected] : "ì‹œê°„ì´ˆê³¼";
                const corText = data.ans[data.cor];
                let catKey = data.cat;
                if(!stats[catKey]) stats[catKey] = {total:0, cor:0};
                stats[catKey].total++;
                if (record.isCorrect) {
                    correctCount++;
                    stats[catKey].cor++;
                    const card = document.createElement('div');
                    card.className = 'correct-card';
                    card.innerHTML = `
                        <div class="wc-header"><span class="wc-tag">${data.cat}</span></div>
                        <div class="wc-q">Q. ${data.q.replace(/<br>/g, ' ')}</div>
                        <div class="wc-ans-box"><span class="my-ans-correct">ë‚´ ë‹µ: ${userText} â­•</span></div>
                        <div class="wc-exp"><strong>ğŸ’¡ í•´ì„¤:</strong><br>${data.exp}</div>
                    `;
                    els.correctList.appendChild(card);
                } else {
                    const card = document.createElement('div');
                    card.className = 'wrong-card';
                    card.innerHTML = `
                        <div class="wc-header"><span class="wc-tag">${data.cat}</span></div>
                        <div class="wc-q">Q. ${data.q.replace(/<br>/g, ' ')}</div>
                        <div class="wc-ans-box">
                            <span class="my-ans">ë‚´ ë‹µ: ${userText}</span>
                            <span class="cor-ans">ì •ë‹µ: ${corText}</span>
                        </div>
                        <div class="wc-exp"><strong>ğŸ’¡ í•´ì„¤:</strong><br>${data.exp}</div>
                    `;
                    els.wrongList.appendChild(card);
                }
            });

            const finalScore = Math.round((correctCount / currentQueue.length) * 100);
            els.scoreDisplay.innerText = `${finalScore}ì `;
            els.resultStamp.className = 'stamp';
            if (finalScore >= 60) {
                els.resultStamp.innerText = "åˆæ ¼";
                els.resultStamp.classList.add('pass', 'show');
                playConfetti();
            } else {
                els.resultStamp.innerText = "ä¸åˆæ ¼";
                els.resultStamp.classList.add('fail', 'show');
            }

            for (const [key, val] of Object.entries(stats)) {
                if (val.total > 0) {
                    const rate = Math.round((val.cor / val.total) * 100);
                    const row = `<tr><td>${key}</td><td>${val.cor} / ${val.total}</td><td>${rate}%</td></tr>`;
                    els.analysisBody.innerHTML += row;
                }
            }

            if (els.wrongList.innerHTML === '') els.wrongList.innerHTML = '<div class="empty-msg">í‹€ë¦° ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤. ì™„ë²½í•´ìš”! ğŸ‰</div>';
            if (els.correctList.innerHTML === '') els.correctList.innerHTML = '<div class="empty-msg">ë§íŒ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”! ğŸ’ª</div>';
        }

        function resetGame() {
            els.resultScreen.classList.remove('active');
            els.startScreen.classList.add('active');
            els.resultStamp.classList.remove('show', 'pass', 'fail');
            els.confettiCanvas.style.display = 'none';
        }

        function playConfetti() {
            const canvas = els.confettiCanvas;
            canvas.style.display = 'block';
            const ctx = canvas.getContext('2d');
            canvas.width = 800; canvas.height = 750;
            const particles = [];
            const colors = ['#ef4444', '#3b82f6', '#10b981', '#f59e0b', '#8b5cf6'];
            for (let i = 0; i < 100; i++) {
                particles.push({
                    x: canvas.width / 2, y: canvas.height / 2,
                    vx: (Math.random() - 0.5) * 10, vy: (Math.random() - 0.5) * 10,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    size: Math.random() * 8 + 4
                });
            }
            let frame = 0;
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach((p) => {
                    p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.size *= 0.96;
                    ctx.fillStyle = p.color; ctx.fillRect(p.x, p.y, p.size, p.size);
                });
                if (frame++ < 100) requestAnimationFrame(animate);
                else canvas.style.display = 'none';
            }
            animate();
        }
    });
    </script>
</body>
</html>
